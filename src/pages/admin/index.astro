---
// src/pages/admin/index.astro
import EventManager from '../../components/EventManager.tsx';
import BaseLayout from '../../layouts/BaseLayout.astro';
import fs from 'fs';
import path from 'path';

const eventsPath = path.resolve('./src/data/events.json');
const raw = fs.readFileSync(eventsPath, 'utf-8');
const events = JSON.parse(raw);
---

<BaseLayout title="Admin Ã©vÃ©nements">
  <h1>ğŸ”§ Gestion des Ã©vÃ©nements</h1>
  <EventManager initialEvents={events} client:only="preact" />
</BaseLayout>